---
import LottieAnimation from 'astro-integration-lottie/Lottie.astro'

import Map from '../components/react/Map'
import BaseLayout from '../layouts/BaseLayout.astro'
import Card from '../components/cards/Card.astro'
import AQICard from '../components/data-viz/AQICard.astro'
import Footer from '../components/atoms/Footer.astro'
import { AQI } from '../data/cards'
import Link from '../components/atoms/Link.astro'
import { Image } from 'astro:assets'
import { HOME_IMAGES } from '../data/images'
import BackTop from '../components/atoms/BackTop.astro'
import Typography from '../components/atoms/Typography.astro'
---

<BaseLayout>
  <Map client:only="react">
    <div
      slot="fallback"
      class="flex h-4/6 w-full content-center justify-center"
    >
      <LottieAnimation
        src="src/assets/animations/bar_loader.json"
        autoplay="visible"
      />
    </div>
  </Map>
  <div class="pointer-events-none top-0 w-full md:absolute md:w-1/2">
    <Card />
    <div class="mt-16 hidden space-y-4 px-10 md:block md:pr-20">
      <Typography variant="p">
        La contaminación por partículas puede ocasionar problemas de salud
        graves, como ataques de asma, ataques cardíacos, derrames cerebrales y
        una muerte temprana.
      </Typography>
      <Typography variant="p">
        La contaminación por partículas puede ser un problema en cualquier
        momento del año.
      </Typography>
      <Typography variant="p">
        ¡Puede reducir la exposición a la contaminación y aún hacer ejercicio!
        Utilice los pronósticos diarios del Índice de Calidad del Aire (AQI) de
        esta web para planear sus actividades al aire libre.
      </Typography>
      <div class="mt-16 mt-8 flex w-full flex-row justify-between p-4 px-14">
        {
          HOME_IMAGES.map((image) => (
            <Image class={image.class} alt={image.alt} src={image.path} />
          ))
        }
      </div>
    </div>
  </div>
  <div class="flex w-full flex-col p-8 md:flex-row md:p-12">
    <div class="hidden md:block md:w-1/2"></div>
    <div class="md:w-1/2">
      <Typography variant="h1" color="gray"
        >Índice de calidad del aire (AQI)</Typography
      >
      <p class="mt-2">
        <Link
          href="https://www.airnow.gov/sites/default/files/2018-05/air-quality-guide_particle_SPA.pdf"
          text="Via fuente"
        />
      </p>
      <div class="flex h-full flex-col space-y-3 pt-8">
        {AQI.map((aqi) => <AQICard card={aqi} variant="full" />)}
      </div>
    </div>
  </div>
  <BackTop />
  <Footer />
</BaseLayout>
